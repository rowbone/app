
<title-bar name="conow responsive table"></title-bar>

<div class="wrapper-md pos-rlt h-auto" ng-controller="responsiveTableDemoCtrl">
	<div class="row col">
		<div class="panel panel-info">
			<div class="panel-heading">
				<div class="panel-title">组件演示</div>
			</div>
			<div class="panel-body">
				<div class="form-group">
					<div class="radio inline">
						<label class="i-checks">
							<input type="radio" name="multiSelect" ng-model="options.multiSelect" value=true><i></i>多选
						</label>
					</div>
					<div class="radio inline">
						<label class="i-checks">
							<input type="radio" name="multiSelect" ng-model="options.multiSelect" value=false><i></i>单选
						</label>
					</div>
				</div>
				<div class="form-group m-t-sm">
					<pre>{{ options | json }}</pre>
					<!-- <div class="form-group">
						<input type="text" ng-model="options.">
					</div> -->
					已选项：<pre>{{ vm.selected }}</pre>
				</div>
<!-- <td width="50">
  <label class="i-checks">
  	<input type="checkbox" class="icheckbox_square" ng-checked="indexInSelectedArr(user) >= 0" header="'ng-table/headers/checkbox.html'"><i></i>
  </label>
</td> -->
				<div class="m-t-sm">
					<div class="form-group padder-v-sm">
						<button type="button" class="btn btn-primary" ng-click="getSelectedData()">获取数据</button>
						{{ vm.selectedData }}
					</div>
					<!-- <div class="form-group">
						<label for="table-search" class="control-label">过滤</label>
						<input type="text" id="table-search" class="form-control" ng-model="vm.searchKey">
					</div> -->

					<!-- ng-click="changeSelection(user, $event)" -->
					<!-- ng-repeat="user in $data track by $index" -->
					
					<table ng-table="tableParams" class="table table-hover table-striped bg-white" is-multi-select="false">

						<tbody>
							<tr expand-row>
								<td data-title="'序号'">{{ (tableParams.page() - 1) * tableParams.count() + $index + 1}}</td>
								<td data-title="'姓名'" ng-bind="item.name" col-bind="name" sortable="'name'"></td>
								<td data-title="'年龄'" ng-bind="item.age" col-bind="age" sortable="'age'" header-class="'hidden-sm hidden-xs'" class="hidden-sm hidden-xs"></td>
								<td data-title="'性别'" ng-bind="item.sex" col-bind="sex" sortable="'sex'" class="collapsed-xs">
								</td>
								<td data-title="'职位'" ng-bind="item.duty" col-bind="duty" sortable="'duty'" class="collapsed-sm">
									<!-- <button type="button" class="btn btn-primary">选择按钮</button> -->
								</td>
							</tr>

						</tbody>
					</table>
					
					<div class="m-t form-group">
						<!-- 
						<table ng-table="tableParams2" class="table table-hover">
							<tbody>
								<tr ng-repeat="user in tableParams2.data track by $index">
									<td data-title="'职位名称'" ng-bind="user.JOBS_NAME"></td>
									<td data-title="'职位描述'" ng-bind="user.JOBS_DESC"></td>
									<td data-title="'备注'" ng-bind="user.MEMO"></td>
								</tr>
							</tbody>
						</table>
						 -->
					</div>
				</div>

			</div>
			<div class="panel-footer">
				@ng-table:
				<a href="https://github.com/esvit/ng-table" target="_blank" class="text-primary" title="ng-table">Github地址</a>
			</div>
		</div>
				</div>

	<div class="row">
		<div class="col-md-6 col-sm-12">
			<div class="panel panel-info">
				<div class="panel-heading">
					<div class="panel-title">使用说明</div>
				</div>
				<div class="panel-body">
					<ol>
						<li>使用前先引入
							<code>'vendor/modules/ng-table/ng-table.js'</code> 和 
							<code>'vendor/modules/ng-table/ng-table.css'</code>
						</li>
						<li>
							controller 中 注入 <code>ngTableParams</code>
						</li>
						<li><code>table</code>元素添加<code>ng-table</code>属性，属性值是对应的配置参数</li>
						<li>controller中添加配置属性：<code>$scope.tableParams = new ngTableParams(parameters, settings)</code></li>
						<li>配置参数说明：
							<table class="table table-bordered table-hover">
								<tr>
									<th>参数对象</th>
									<th>参数名称</th>
									<th>说明</th>
								</tr>
								<tr>
									<td rowspan="4" class="v-middle">parameters</td>
									<td>page</td>
									<td>当前显示的页码</td>
								</tr>
								<tr>
									<td>count</td>
									<td>每页显示的数据行数</td>
								</tr>
								<tr>
									<td>filter</td>
									<td>定义过滤器</td>
								</tr>
								<tr>
									<td>sorting</td>
									<td>定义排序</td>
								</tr>
								<tr>
									<td rowspan="6" class="v-middle">settings</td>
									<td>total</td>
									<td>表格显示的总数据条数</td>
								</tr>
								<tr>
									<td>counts</td>
									<td>控制每页显示的数据条数</td>
								</tr>
								<tr>
									<td>defaultSort</td>
									<td></td>
								</tr>
								<tr>
									<td>getData</td>
									<td></td>
								</tr>
								<tr>
									<td>groupBy</td>
									<td>待补充</td>
								</tr>
							</table>
						</li>
						<li>getData:setting中获取表格数据的方法，<span class="text-danger">可对数据进行过滤处理[filter，sorting等]</span>，可传入两个参数$defer 和 params。
							<ul class="list-unstyled">
								<li>$defer:调用$defer.resolve(data)方法，确保ng-table可以获取到数据
									
								</li>
								<li>params:可以引用parameters配置的参数。比如filter和sorting。
<pre>
	getData: function($defer, params) {
		var filer = params.filter();
		var sorting = params.sorting();

		$defer.resolve(data);
	}
</pre>
								</li>
							</ul>
						</li>
					</ol>
				</div>
			</div>
		</div>
		
	</div>

</div>

<div class="m-t-md">
	<ul>Tips:
		<li>不显示分页数量控制：<code>counts:[]</code>(扩展：根据数量判断显示哪些数字)</li>
		<li>不显示分页：<code>params.count(orderedData.length)</code>(即设置数据条数为数据总数)</li>
	</ul>
</div>